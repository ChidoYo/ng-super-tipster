angular.module("tipster",[]).controller("tipsperController",["$scope",function(e){e.title="Angular Super Tipster"}]).directive("superTipster",function(){return{restrict:"E",scope:{width:"@"},controller:function(){this.popupTipster,this.openedTipster=!1,this.setTimed},link:function(e,t,i,r){var n=navigator.userAgent||navigator.vendor||window.opera,o=t.find(".super-tipster"),s=$(window).width(),p=s/3,d=s/3*2,c=t.position();/iPad|iPhone|iPod/.test(n)&&!window.MSStream&&$("body").addClass("ios-device");var l=function(t){if(t){var i=e.width;o.css({width:i,left:-i/2*.75})}};r.popupTipster=function(){r.openedTipster=!r.openedTipster,r.openedTipster?c.left>=p&&c.left<d?(o.show(r.setTimed).addClass("middle"),l(e.width)):c.left>=d&&c.left<s?(o.show(r.setTimed).addClass("right"),l(e.width)):(o.show(r.setTimed),l(e.width)):o.hide(r.setTimed).removeClass("middle right")},$(document).on("click",function(i){console.log("doc clicked"),i.preventDefault(),t.find(i.target).length>0||e.$apply(function(){r.openedTipster=!1,o.hide(r.setTimed)})})}}}).directive("tipsterTrigger",function(){return{restrict:"A",require:"^^superTipster",scope:{},link:function(e,t,i,r){t.on("click",function(e){e.preventDefault(),r.popupTipster()})}}}).directive("closeTipster",function(){return{restrict:"A",require:"^^superTipster",scope:{},link:function(e,t,i,r){t.on("click",function(e){e.preventDefault(),r.popupTipster()})}}});